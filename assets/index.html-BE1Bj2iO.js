import{_ as e,c as a,d as n,o as i}from"./app-DoO5dwbX.js";const l={};function r(t,s){return i(),a("div",null,s[0]||(s[0]=[n(`<p>用 IDEA 启动一个 spring boot 项目时，一直提示端口被占用：“Web server failed to start. Port 1412 was already in use.”</p><p>但我打开终端查看时，根本没有服务占用这个端口：<code>netstat -aon | findstr :1400</code></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-"><span class="line"><span>C:\\WINDOWS\\system32&gt;netstat -aon | findstr :1400</span></span>
<span class="line"><span>  TCP    0.0.0.0:14000          0.0.0.0:0              LISTENING       10080</span></span>
<span class="line"><span>  TCP    [::]:14000             [::]:0                 LISTENING       10080</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>重启电脑好几遍也不行。</p><p>几经检索后，发现是 <mark>Windows 保留端口</mark> 导致的。</p><h2 id="检查-windows-保留端口命令" tabindex="-1"><a class="header-anchor" href="#检查-windows-保留端口命令"><span>检查 Windows 保留端口命令</span></a></h2><p><code>netsh interface ipv4 show excludedportrange protocol=tcp</code></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-"><span class="line"><span>C:\\Users\\Administrator&gt;netsh interface ipv4 show excludedportrange protocol=tcp</span></span>
<span class="line"><span></span></span>
<span class="line"><span>协议 tcp 端口排除范围</span></span>
<span class="line"><span></span></span>
<span class="line"><span>开始端口    结束端口</span></span>
<span class="line"><span>----------    --------</span></span>
<span class="line"><span>      1048        1147</span></span>
<span class="line"><span>      1148        1247</span></span>
<span class="line"><span>      1248        1347</span></span>
<span class="line"><span>      1348        1447</span></span>
<span class="line"><span>      1448        1547</span></span>
<span class="line"><span>      1609        1708</span></span>
<span class="line"><span>      5357        5357</span></span>
<span class="line"><span>     50000       50059     *</span></span>
<span class="line"><span>     59100       59100     *</span></span>
<span class="line"><span></span></span>
<span class="line"><span>* - 管理的端口排除。</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>因为 1400 在 1348~1447 里面，所以启动 spring boot 项目时提示被占用了。</p><h2 id="释放端口" tabindex="-1"><a class="header-anchor" href="#释放端口"><span>释放端口</span></a></h2><p>停止 WinNAT 服务以释放被占用的端口：<code>net stop winnat</code></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-"><span class="line"><span>C:\\WINDOWS\\system32&gt;net stop winnat</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Windows NAT Driver 服务已成功停止。</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>保留想要使用端口（端口号和 number 都可以自定义）<code>netsh int ipv4 delete excludedportrange protocol=tcp startport=1348 number=100</code></p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-"><span class="line"><span>C:\\WINDOWS\\system32&gt;netsh int ipv4 delete excludedportrange protocol=tcp startport=1348 number=100</span></span>
<span class="line"><span>找不到元素。</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container note"><p class="hint-container-title">虽然提示“找不到元素”，但是仍然执行成功了，1400 端口 可以使用了</p></div><p>重新启动 winnat 服务</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-"><span class="line"><span>net start winnat</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-"><span class="line"><span>C:\\WINDOWS\\system32&gt;net start winnat</span></span>
<span class="line"><span></span></span>
<span class="line"><span>Windows NAT Driver 服务已经启动成功。</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="重新启动-spring-boot-项目" tabindex="-1"><a class="header-anchor" href="#重新启动-spring-boot-项目"><span>重新启动 spring boot 项目</span></a></h2><p>再次运行项目，成功。</p><h2 id="参考文档" tabindex="-1"><a class="header-anchor" href="#参考文档"><span>参考文档</span></a></h2><ul><li><a href="https://blog.csdn.net/qq_44601637/article/details/125417072" target="_blank" rel="noopener noreferrer">IDEA 启动服务提示端口被占用，Web server failed to start.Port was already in use.</a></li><li><a href="https://blog.zhangyirui.cn/2025/04/28/IDEA-port-occupied-failed-to-start/" target="_blank" rel="noopener noreferrer">IDEA 端口占用，启动失败，提示 Web server failed to start. Port 9090 was already in use.</a></li><li><a href="https://jishuzhan.net/article/1799293559413673985" target="_blank" rel="noopener noreferrer">SpringBoot 项目启动提示端口号占用</a></li><li><a href="https://zhuanlan.zhihu.com/p/474392069" target="_blank" rel="noopener noreferrer">解决 Windows 10 端口被 Hyper-V 随机保留（占用）的问题</a></li><li><a href="https://kenvix.com/post/avoid-windows-port-inuse/" target="_blank" rel="noopener noreferrer">手动保留常用端口，解决 Windows 端口被 Hyper-V / WinNAT 占用的问题</a></li></ul>`,22)]))}const p=e(l,[["render",r]]),c=JSON.parse('{"path":"/java/o0adlikr/","title":"Windows保留端口导致IDEA启动项目失败","lang":"zh-CN","frontmatter":{"title":"Windows保留端口导致IDEA启动项目失败","createTime":"2025/09/04 16:05:57","permalink":"/java/o0adlikr/"},"readingTime":{"minutes":1.63,"words":488},"git":{"createdTime":1756973832000,"updatedTime":1756974338000,"contributors":[{"name":"edana","username":"","email":"1292548615@qq.com","commits":2,"avatar":"https://gravatar.com/avatar/51a398cd538d08b052e061e4b9f2c3353a7fae1d5406ef128cad6096d91bd325?d=retro"}]},"filePathRelative":"notes/java/2.java_debug/11.Windows保留端口导致IDEA启动项目失败.md","headers":[]}');export{p as comp,c as data};
