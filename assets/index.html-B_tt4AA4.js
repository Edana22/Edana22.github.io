import{_ as i,c as a,d as n,o as e}from"./app-DoO5dwbX.js";const l="/assets/exit-1-D0On3aCY.png",t="/assets/exit-2-DCDNH9DI.png",p="/assets/exit-3-BrMyvt6S.png",h="/assets/exit-4-DPPy76rw.png",r={};function k(d,s){return e(),a("div",null,s[0]||(s[0]=[n('<p>在使用 quasar+cordova 打包成 apk 时，我遇到了一个问题：</p><div class="hint-container caution"><p class="hint-container-title">进入 app 后，无法用左滑和右滑的手势退出 app，但从底部往上滑（相当于按 Home 键），可以正常返回到桌面。</p></div><p>尝试了几种方法都不行，但无意中点到以前的测试软件后，发现可以用返回手势退出 app！</p><p>然后我看了一下 2 个 app 有什么区别：</p><ul><li>手势能返回 app：只有默认的一个页面，没有路由跳转</li><li>手势不能返回 app：有 3 个页面，点击底部 tab 跳转到不同的路由</li></ul><p>然后我用 google 搜索 <code>back gesture cannot exit app in quasar cordova</code> ，顺着找到了 quasar v1.22 的文档，其中<a href="https://v1.quasar.dev/vue-directives/go-back" target="_blank" rel="noopener noreferrer">Vue Directives | Go Back (Handling Back Button) </a>明确指出：</p><p><img src="'+l+'" alt="alt text"></p><p><img src="'+t+'" alt="alt text"></p><p><img src="'+p+`" alt="alt text"></p><blockquote><p>Quasar handles the back button for you by default, so it can hide any opened Dialogs instead of the default behavior which is to return to the previous page (which is not a nice user experience).</p></blockquote><blockquote><p>Also, when on the home route (<code>/</code>) and user presses the back button on the phone/tablet, Quasar will make your app exit. Should you wish to disable or configure this behavior, then you can do so via quasar.conf.js options:</p></blockquote><blockquote><ul><li><code>false</code> will disable the feature;</li><li><code>&#39;*&#39;</code> will make your app exit on any page, if the history length is 0;</li><li>an array of strings (eg. <code>[&#39;login&#39;, &#39;home&#39;, &#39;my-page&#39;]</code>) will make your app exit when current path is included in that array (or on default <code>/</code>). The array automatically filters out non-strings or empty values and normalizes paths to match <code>#/&lt;your-path&gt;</code> format.</li></ul></blockquote><p>原来的测试软件由于只有一个页面，也没有配置路由，所以就是默认的 <code>/</code> ,默认情况下路由是 <code>/</code> 时可以用手势返回（或者 <code>back</code> 键）。</p><p>所以我需要在 <code>quasar.config.js</code> 中配置一下 <code>cordova</code> 的 <code>backButtonExit</code> 属性：</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-javascript"><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> configure</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> }</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> require</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">quasar/wrappers</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">module</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">exports</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> configure</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">function</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">/* ctx */</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">  return</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    // Full list of options: https://v2.quasar.dev/quasar-cli-vite/quasar-config-js#devServer</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    devServer</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">      // https: true</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">      open</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> true</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> // opens browser window automatically</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    },</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    // https://v2.quasar.dev/quasar-cli-vite/quasar-config-js#framework</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    framework</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">      // 找到frameword,增加config:{cordova:{}}</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">      config</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">        cordova</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">          // Quasar handles app exit on mobile phone back button.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">          // Requires Quasar v1.9.3+ for true/false, v1.12.6+ for &#39;*&#39; wildcard and array values</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">          // backButtonExit: true/false/&#39;*&#39;/[&#39;/login&#39;, &#39;/home&#39;, &#39;/my-page&#39;],</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">          backButtonExit</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">*</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">          // On the other hand, the following completely</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">          // disables Quasar&#39;s back button management.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">          // Requires Quasar v1.14.1+</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">          // backButton: true / false,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        },</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">      },</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">      // iconSet: &#39;material-icons&#39;,</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> // Quasar icon set</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">      // lang: &#39;en-US&#39;,</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> // Quasar language pack</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">      // For special cases outside of where the auto-import strategy can have an impact</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">      // (like functional components as one of the examples),</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">      // you can manually specify Quasar components/directives to be available everywhere:</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">      //</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">      // components: [],</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">      // directives: [],</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">      // Quasar plugins</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">      plugins</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [],</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    },</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    // Full list of options: https://v2.quasar.dev/quasar-cli/developing-cordova-apps/configuring-cordova</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    cordova</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">      // noIosLegacyBuildFlag: true,</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> // uncomment only if you know what you are doing</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    },</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    // Full list of options: https://v2.quasar.dev/quasar-cli/developing-capacitor-apps/configuring-capacitor</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    capacitor</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">      hideSplashscreen</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> true</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    },</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  };</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+h+'" alt="alt text"></p><p>配置完成后重新启动、打包，app 就能正常用手势返回退出了。</p><div class="hint-container tip"><p class="hint-container-title">提示</p><p>路由跳转 router-link 记得添加 replace 属性</p></div>',18)]))}const o=i(r,[["render",k]]),u=JSON.parse('{"path":"/quasar/ggvhec3j/","title":"跨端开发：quasar+cordova打包成apk后用手势(back button)无法退出app","lang":"zh-CN","frontmatter":{"title":"跨端开发：quasar+cordova打包成apk后用手势(back button)无法退出app","createTime":"2025/06/25 17:20:16","permalink":"/quasar/ggvhec3j/"},"readingTime":{"minutes":2.33,"words":698},"git":{"createdTime":1751098656000,"updatedTime":1751098656000,"contributors":[{"name":"twoflowers","username":"","email":"1292548615@qq.com","commits":1,"avatar":"https://gravatar.com/avatar/51a398cd538d08b052e061e4b9f2c3353a7fae1d5406ef128cad6096d91bd325?d=retro"}]},"filePathRelative":"notes/quasar/quasar-cordova/5.跨端开发：quasar+cordova打包成apk后用手势(back button)无法退出app.md","headers":[]}');export{o as comp,u as data};
